# -*- coding: utf-8 -*-
# Copyright (c) 2018-2020, libracore (https://www.libracore.com) and contributors
# For license information, please see license.txt
#
# Test functions for interface module for MS Direct
from rubirosa.rubirosa.msdirect import parse_purchase_orders, parse_order_state

def test_get_purchase_receipts():
    response = """<?xml version="1.0" encoding="UTF-8"?><e:Envelope xmlns:d="http://www.w3.org/2001/XMLSchema" xmlns:e="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wn1="http://systinet.com/wsdl/com/magicsoftware/magicxpi/msDataHandling/" xmlns:wn2="http://systinet.com/xsd/SchemaTypes/" xmlns:wn0="http://idoox.com/interface" xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
    <e:Envelope xmlns:d="http://www.w3.org/2001/XMLSchema" xmlns:e="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wn1="http://systinet.com/wsdl/com/magicsoftware/magicxpi/msDataHandling/" xmlns:wn2="http://systinet.com/xsd/SchemaTypes/" xmlns:wn0="http://idoox.com/interface" xmlns:i="http://www.w3.org/2001/XMLSchema-instance">
    <e:Body>
      <wn1:purchaseReceiptResponse>
        <wn1:response i:type="wn1:PurchaseReceiptResponse">
          <wn1:error i:nil="true"/>
          <wn1:messageHeader i:type="wn1:MessageHeader">
            <wn1:clientId i:type="d:string">123</wn1:clientId>
            <wn1:clientName i:type="d:string">123</wn1:clientName>
            <wn1:token i:type="d:string">12345</wn1:token>
          </wn1:messageHeader>
          <wn1:response i:type="wn1:ArrayOfPurchaseReceiptData">
            <wn1:PurchaseReceiptData i:type="wn1:PurchaseReceiptData">
              <wn1:bookingDate i:type="d:date">2020-09-17</wn1:bookingDate>
              <wn1:deliveredQuantity i:type="d:decimal">10.00</wn1:deliveredQuantity>
              <wn1:itemNo i:type="d:string">01/100820/450</wn1:itemNo>
              <wn1:orderDate i:type="d:date">2020-09-17</wn1:orderDate>
              <wn1:orderQuantity i:type="d:decimal">20.00</wn1:orderQuantity>
              <wn1:purchaseOrderLineNo i:type="d:string">1</wn1:purchaseOrderLineNo>
              <wn1:purchaseOrderNo i:type="d:string">PO-00001</wn1:purchaseOrderNo>
              <wn1:unitOfMeasure i:type="d:string">PAA</wn1:unitOfMeasure>
              <wn1:vendorItemNo i:type="d:string"></wn1:vendorItemNo>
              <wn1:vendorName i:type="d:string">Testkreditor von MAPO</wn1:vendorName>
              <wn1:vendorNo i:type="d:string">00000002</wn1:vendorNo>
              <wn1:vendorOrderLineNo i:type="d:string"></wn1:vendorOrderLineNo>
              <wn1:vendorOrderNo i:type="d:string"></wn1:vendorOrderNo>
            </wn1:PurchaseReceiptData>
            <wn1:PurchaseReceiptData i:type="wn1:PurchaseReceiptData">
              <wn1:bookingDate i:type="d:date">2020-09-17</wn1:bookingDate>
              <wn1:deliveredQuantity i:type="d:decimal">15.00</wn1:deliveredQuantity>
              <wn1:itemNo i:type="d:string">01/100802/430</wn1:itemNo>
              <wn1:orderDate i:type="d:date">2020-09-17</wn1:orderDate>
              <wn1:orderQuantity i:type="d:decimal">15.00</wn1:orderQuantity>
              <wn1:purchaseOrderLineNo i:type="d:string">1</wn1:purchaseOrderLineNo>
              <wn1:purchaseOrderNo i:type="d:string">PO-00003</wn1:purchaseOrderNo>
              <wn1:unitOfMeasure i:type="d:string">PAA</wn1:unitOfMeasure>
              <wn1:vendorItemNo i:type="d:string">556655</wn1:vendorItemNo>
              <wn1:vendorName i:type="d:string">Stark Industires</wn1:vendorName>
              <wn1:vendorNo i:type="d:string">456</wn1:vendorNo>
              <wn1:vendorOrderLineNo i:type="d:string">1</wn1:vendorOrderLineNo>
              <wn1:vendorOrderNo i:type="d:string">5566</wn1:vendorOrderNo>
            </wn1:PurchaseReceiptData>
            <wn1:PurchaseReceiptData i:type="wn1:PurchaseReceiptData">
              <wn1:bookingDate i:type="d:date">2020-09-17</wn1:bookingDate>
              <wn1:deliveredQuantity i:type="d:decimal">200.00</wn1:deliveredQuantity>
              <wn1:itemNo i:type="d:string">01/100802/400</wn1:itemNo>
              <wn1:orderDate i:type="d:date">2020-09-17</wn1:orderDate>
              <wn1:orderQuantity i:type="d:decimal">200.00</wn1:orderQuantity>
              <wn1:purchaseOrderLineNo i:type="d:string">2</wn1:purchaseOrderLineNo>
              <wn1:purchaseOrderNo i:type="d:string">PO-00003</wn1:purchaseOrderNo>
              <wn1:unitOfMeasure i:type="d:string">STK</wn1:unitOfMeasure>
              <wn1:vendorItemNo i:type="d:string">556655</wn1:vendorItemNo>
              <wn1:vendorName i:type="d:string">Stark Industires</wn1:vendorName>
              <wn1:vendorNo i:type="d:string">456</wn1:vendorNo>
              <wn1:vendorOrderLineNo i:type="d:string">1</wn1:vendorOrderLineNo>
              <wn1:vendorOrderNo i:type="d:string">5566</wn1:vendorOrderNo>
            </wn1:PurchaseReceiptData>
          </wn1:response>
        </wn1:response>
      </wn1:purchaseReceiptResponse>
    </e:Body></e:Envelope>"""
    result = parse_purchase_orders(response)
    print(result)

def test_get_order_states():   
    response = """<?xml version="1.0" encoding="UTF-8"?>
<e:Envelope xmlns:d="http://www.w3.org/2001/XMLSchema" xmlns:e="http://schemas.xmlsoap.org/soap/envelope/" xmlns:wn1="http://systinet.com/wsdl/com/magicsoftware/magicxpi/msDataHandling/" xmlns:wn2="http://systinet.com/xsd/SchemaTypes/" xmlns:wn0="http://idoox.com/interface" xmlns:i="http://www.w3.org/2001/XMLSchema-instance"><e:Body><wn1:orderStateResponse><wn1:response i:type="wn1:OrderStateResponse"><wn1:error i:nil="true"/><wn1:response i:type="wn1:ArrayOfArrayOfOrder"><wn1:ArrayOfOrder i:type="wn1:ArrayOfOrder"><wn1:Order i:type="wn1:Order"><wn1:additionalInformation i:nil="true"/><wn1:clientId i:type="d:string">RR</wn1:clientId><wn1:creditAmount i:nil="true"/><wn1:currencyCode i:type="d:string">CHF</wn1:currencyCode><wn1:customer i:type="wn1:Customer"><wn1:customerNo i:type="d:string">00000017</wn1:customerNo><wn1:eshopCustomerNo i:type="d:string">3004969211924546090</wn1:eshopCustomerNo><wn1:sellTo i:nil="true"/><wn1:shipTo i:type="wn1:Address"><wn1:address i:type="d:string">Feldstrasse 11</wn1:address><wn1:address2 i:type="d:string"></wn1:address2><wn1:city i:type="d:string">Appenzell</wn1:city><wn1:country i:type="d:string">CH</wn1:country><wn1:name i:type="d:string">Sepp Fässler AG</wn1:name><wn1:name2 i:nil="true"/><wn1:postCode i:type="d:string">9050</wn1:postCode><wn1:salutation i:nil="true"/></wn1:shipTo></wn1:customer><wn1:eshopOrderNo i:type="d:string">DN-00034</wn1:eshopOrderNo><wn1:invoiceAmount i:type="d:decimal">0.00</wn1:invoiceAmount><wn1:invoiceNo i:type="d:string"></wn1:invoiceNo><wn1:lastModified i:type="d:dateTime">2020-10-25T07:00:03+01:00</wn1:lastModified><wn1:orderDate i:type="d:date">2018-05-25</wn1:orderDate><wn1:orderLines i:type="wn1:ArrayOfOrderLine1"><wn1:OrderLine1 i:type="wn1:OrderLine1"><wn1:eshopOrderLine i:nil="true"/><wn1:eshopOrderNo i:nil="true"/><wn1:itemDescription i:type="d:string">Odile Low Black</wn1:itemDescription><wn1:itemNo i:type="d:string">01/111201/430</wn1:itemNo><wn1:lineAdditionalInformation i:nil="true"/><wn1:lineShippingAgent i:type="d:string"></wn1:lineShippingAgent><wn1:lineTrackAndTraceId i:type="d:string"></wn1:lineTrackAndTraceId><wn1:lineTrackAndTraceUrl i:type="d:string"></wn1:lineTrackAndTraceUrl><wn1:orderLineState i:type="d:string">4</wn1:orderLineState><wn1:orderNo i:nil="true"/><wn1:postingDate i:nil="true"/><wn1:qtyInvoiced i:type="d:decimal">0.00</wn1:qtyInvoiced><wn1:qtyOrdered i:type="d:decimal">1.00</wn1:qtyOrdered><wn1:qtyReturned i:type="d:decimal">0.00</wn1:qtyReturned><wn1:qtyShipped i:type="d:decimal">0.00</wn1:qtyShipped><wn1:returnQuality i:type="d:string"></wn1:returnQuality><wn1:returnReason i:type="d:string"></wn1:returnReason></wn1:OrderLine1><wn1:OrderLine1 i:type="wn1:OrderLine1"><wn1:eshopOrderLine i:nil="true"/><wn1:eshopOrderNo i:nil="true"/><wn1:itemDescription i:type="d:string">Odile Low Brown</wn1:itemDescription><wn1:itemNo i:type="d:string">01/121203/430</wn1:itemNo><wn1:lineAdditionalInformation i:nil="true"/><wn1:lineShippingAgent i:type="d:string"></wn1:lineShippingAgent><wn1:lineTrackAndTraceId i:type="d:string"></wn1:lineTrackAndTraceId><wn1:lineTrackAndTraceUrl i:type="d:string"></wn1:lineTrackAndTraceUrl><wn1:orderLineState i:type="d:string">4</wn1:orderLineState><wn1:orderNo i:nil="true"/><wn1:postingDate i:nil="true"/><wn1:qtyInvoiced i:type="d:decimal">0.00</wn1:qtyInvoiced><wn1:qtyOrdered i:type="d:decimal">1.00</wn1:qtyOrdered><wn1:qtyReturned i:type="d:decimal">0.00</wn1:qtyReturned><wn1:qtyShipped i:type="d:decimal">0.00</wn1:qtyShipped><wn1:returnQuality i:type="d:string"></wn1:returnQuality><wn1:returnReason i:type="d:string"></wn1:returnReason></wn1:OrderLine1><wn1:OrderLine1 i:type="wn1:OrderLine1"><wn1:eshopOrderLine i:nil="true"/><wn1:eshopOrderNo i:nil="true"/><wn1:itemDescription i:type="d:string">Odile Low Pearl</wn1:itemDescription><wn1:itemNo i:type="d:string">01/101220/430</wn1:itemNo><wn1:lineAdditionalInformation i:nil="true"/><wn1:lineShippingAgent i:type="d:string"></wn1:lineShippingAgent><wn1:lineTrackAndTraceId i:type="d:string"></wn1:lineTrackAndTraceId><wn1:lineTrackAndTraceUrl i:type="d:string"></wn1:lineTrackAndTraceUrl><wn1:orderLineState i:type="d:string">4</wn1:orderLineState><wn1:orderNo i:nil="true"/><wn1:postingDate i:nil="true"/><wn1:qtyInvoiced i:type="d:decimal">0.00</wn1:qtyInvoiced><wn1:qtyOrdered i:type="d:decimal">1.00</wn1:qtyOrdered><wn1:qtyReturned i:type="d:decimal">0.00</wn1:qtyReturned><wn1:qtyShipped i:type="d:decimal">0.00</wn1:qtyShipped><wn1:returnQuality i:type="d:string"></wn1:returnQuality><wn1:returnReason i:type="d:string"></wn1:returnReason></wn1:OrderLine1></wn1:orderLines><wn1:orderNo i:type="d:string">DN-00034</wn1:orderNo><wn1:orderState i:type="d:integer">4</wn1:orderState><wn1:paymentState i:type="d:boolean">0</wn1:paymentState><wn1:postingDate i:type="d:dateTime">0001-01-01T01:00:00+01:00</wn1:postingDate><wn1:shippingAgent i:type="d:string"></wn1:shippingAgent><wn1:trackAndTraceId i:type="d:string"></wn1:trackAndTraceId><wn1:trackAndTraceUrl i:type="d:string"></wn1:trackAndTraceUrl></wn1:Order><wn1:Order i:type="wn1:Order"><wn1:additionalInformation i:nil="true"/><wn1:clientId i:type="d:string">RR</wn1:clientId><wn1:creditAmount i:nil="true"/><wn1:currencyCode i:type="d:string">CHF</wn1:currencyCode><wn1:customer i:type="wn1:Customer"><wn1:customerNo i:type="d:string">00000014</wn1:customerNo><wn1:eshopCustomerNo i:type="d:string">123A45EF6</wn1:eshopCustomerNo><wn1:sellTo i:nil="true"/><wn1:shipTo i:type="wn1:Address"><wn1:address i:type="d:string">Bahnhofstr. 12</wn1:address><wn1:address2 i:type="d:string"></wn1:address2><wn1:city i:type="d:string">Winterthur</wn1:city><wn1:country i:type="d:string">CH</wn1:country><wn1:name i:type="d:string">Chuck Norris</wn1:name><wn1:name2 i:nil="true"/><wn1:postCode i:type="d:string">8400</wn1:postCode><wn1:salutation i:nil="true"/></wn1:shipTo></wn1:customer><wn1:eshopOrderNo i:type="d:string">DN-00126</wn1:eshopOrderNo><wn1:invoiceAmount i:type="d:decimal">0.00</wn1:invoiceAmount><wn1:invoiceNo i:type="d:string"></wn1:invoiceNo><wn1:lastModified i:type="d:dateTime">2020-10-25T07:00:03+01:00</wn1:lastModified><wn1:orderDate i:type="d:date">2020-09-30</wn1:orderDate><wn1:orderLines i:type="wn1:ArrayOfOrderLine1"><wn1:OrderLine1 i:type="wn1:OrderLine1"><wn1:eshopOrderLine i:nil="true"/><wn1:eshopOrderNo i:nil="true"/><wn1:itemDescription i:type="d:string">Octocat</wn1:itemDescription><wn1:itemNo i:type="d:string">1234</wn1:itemNo><wn1:lineAdditionalInformation i:nil="true"/><wn1:lineShippingAgent i:type="d:string">POST_CH</wn1:lineShippingAgent><wn1:lineTrackAndTraceId i:type="d:string"></wn1:lineTrackAndTraceId><wn1:lineTrackAndTraceUrl i:type="d:string"></wn1:lineTrackAndTraceUrl><wn1:orderLineState i:type="d:string">4</wn1:orderLineState><wn1:orderNo i:nil="true"/><wn1:postingDate i:nil="true"/><wn1:qtyInvoiced i:type="d:decimal">0.00</wn1:qtyInvoiced><wn1:qtyOrdered i:type="d:decimal">1.00</wn1:qtyOrdered><wn1:qtyReturned i:type="d:decimal">0.00</wn1:qtyReturned><wn1:qtyShipped i:type="d:decimal">0.00</wn1:qtyShipped><wn1:returnQuality i:type="d:string"></wn1:returnQuality><wn1:returnReason i:type="d:string"></wn1:returnReason></wn1:OrderLine1><wn1:OrderLine1 i:type="wn1:OrderLine1"><wn1:eshopOrderLine i:nil="true"/><wn1:eshopOrderNo i:nil="true"/><wn1:itemDescription i:type="d:string">Octocat</wn1:itemDescription><wn1:itemNo i:type="d:string">1234</wn1:itemNo><wn1:lineAdditionalInformation i:nil="true"/><wn1:lineShippingAgent i:type="d:string">POST_CH</wn1:lineShippingAgent><wn1:lineTrackAndTraceId i:type="d:string"></wn1:lineTrackAndTraceId><wn1:lineTrackAndTraceUrl i:type="d:string"></wn1:lineTrackAndTraceUrl><wn1:orderLineState i:type="d:string">4</wn1:orderLineState><wn1:orderNo i:nil="true"/><wn1:postingDate i:nil="true"/><wn1:qtyInvoiced i:type="d:decimal">0.00</wn1:qtyInvoiced><wn1:qtyOrdered i:type="d:decimal">1.00</wn1:qtyOrdered><wn1:qtyReturned i:type="d:decimal">0.00</wn1:qtyReturned><wn1:qtyShipped i:type="d:decimal">0.00</wn1:qtyShipped><wn1:returnQuality i:type="d:string"></wn1:returnQuality><wn1:returnReason i:type="d:string"></wn1:returnReason></wn1:OrderLine1></wn1:orderLines><wn1:orderNo i:type="d:string">DN-00126</wn1:orderNo><wn1:orderState i:type="d:integer">4</wn1:orderState><wn1:paymentState i:type="d:boolean">0</wn1:paymentState><wn1:postingDate i:type="d:dateTime">0001-01-01T01:00:00+01:00</wn1:postingDate><wn1:shippingAgent i:type="d:string">POST_CH</wn1:shippingAgent><wn1:trackAndTraceId i:type="d:string"></wn1:trackAndTraceId><wn1:trackAndTraceUrl i:type="d:string"></wn1:trackAndTraceUrl></wn1:Order><wn1:Order i:type="wn1:Order"><wn1:additionalInformation i:nil="true"/><wn1:clientId i:type="d:string">RR</wn1:clientId><wn1:creditAmount i:nil="true"/><wn1:currencyCode i:type="d:string">CHF</wn1:currencyCode><wn1:customer i:type="wn1:Customer"><wn1:customerNo i:type="d:string">00000016</wn1:customerNo><wn1:eshopCustomerNo i:type="d:string">6176742461986982835</wn1:eshopCustomerNo><wn1:sellTo i:nil="true"/><wn1:shipTo i:type="wn1:Address"><wn1:address i:type="d:string">Gartenstrasse 13</wn1:address><wn1:address2 i:type="d:string"></wn1:address2><wn1:city i:type="d:string">St. Gallen</wn1:city><wn1:country i:type="d:string">CH</wn1:country><wn1:name i:type="d:string">Hälg Rémy</wn1:name><wn1:name2 i:nil="true"/><wn1:postCode i:type="d:string">9000</wn1:postCode><wn1:salutation i:nil="true"/></wn1:shipTo></wn1:customer><wn1:eshopOrderNo i:type="d:string">DN-00823</wn1:eshopOrderNo><wn1:invoiceAmount i:type="d:decimal">100.00</wn1:invoiceAmount><wn1:invoiceNo i:type="d:string">1000009</wn1:invoiceNo><wn1:lastModified i:type="d:dateTime">2020-10-20T16:00:15+01:00</wn1:lastModified><wn1:orderDate i:type="d:date">2020-10-19</wn1:orderDate><wn1:orderLines i:type="wn1:ArrayOfOrderLine1"><wn1:OrderLine1 i:type="wn1:OrderLine1"><wn1:eshopOrderLine i:nil="true"/><wn1:eshopOrderNo i:nil="true"/><wn1:itemDescription i:type="d:string">Ariza Grey</wn1:itemDescription><wn1:itemNo i:type="d:string">01/100106/420</wn1:itemNo><wn1:lineAdditionalInformation i:nil="true"/><wn1:lineShippingAgent i:type="d:string">POST_CH</wn1:lineShippingAgent><wn1:lineTrackAndTraceId i:type="d:string"></wn1:lineTrackAndTraceId><wn1:lineTrackAndTraceUrl i:type="d:string"></wn1:lineTrackAndTraceUrl><wn1:orderLineState i:type="d:string">1</wn1:orderLineState><wn1:orderNo i:nil="true"/><wn1:postingDate i:nil="true"/><wn1:qtyInvoiced i:type="d:decimal">1.00</wn1:qtyInvoiced><wn1:qtyOrdered i:type="d:decimal">1.00</wn1:qtyOrdered><wn1:qtyReturned i:type="d:decimal">0.00</wn1:qtyReturned><wn1:qtyShipped i:type="d:decimal">1.00</wn1:qtyShipped><wn1:returnQuality i:type="d:string"></wn1:returnQuality><wn1:returnReason i:type="d:string"></wn1:returnReason></wn1:OrderLine1></wn1:orderLines><wn1:orderNo i:type="d:string">DN-00823</wn1:orderNo><wn1:orderState i:type="d:integer">1</wn1:orderState><wn1:paymentState i:type="d:boolean">1</wn1:paymentState><wn1:postingDate i:type="d:dateTime">2020-10-20T01:00:00+01:00</wn1:postingDate><wn1:shippingAgent i:type="d:string">POST_CH</wn1:shippingAgent><wn1:trackAndTraceId i:type="d:string">DUMMYDUMMY00000018</wn1:trackAndTraceId><wn1:trackAndTraceUrl i:type="d:string"></wn1:trackAndTraceUrl></wn1:Order><wn1:Order i:type="wn1:Order"><wn1:additionalInformation i:nil="true"/><wn1:clientId i:type="d:string">RR</wn1:clientId><wn1:creditAmount i:nil="true"/><wn1:currencyCode i:type="d:string">CHF</wn1:currencyCode><wn1:customer i:type="wn1:Customer"><wn1:customerNo i:type="d:string">00000014</wn1:customerNo><wn1:eshopCustomerNo i:type="d:string">123A45EF6</wn1:eshopCustomerNo><wn1:sellTo i:nil="true"/><wn1:shipTo i:type="wn1:Address"><wn1:address i:type="d:string">Bahnhofstr. 12</wn1:address><wn1:address2 i:type="d:string"></wn1:address2><wn1:city i:type="d:string">Winterthur</wn1:city><wn1:country i:type="d:string">CH</wn1:country><wn1:name i:type="d:string">Chuck Norris</wn1:name><wn1:name2 i:nil="true"/><wn1:postCode i:type="d:string">8400</wn1:postCode><wn1:salutation i:nil="true"/></wn1:shipTo></wn1:customer><wn1:eshopOrderNo i:type="d:string">TT-00123</wn1:eshopOrderNo><wn1:invoiceAmount i:type="d:decimal">0.00</wn1:invoiceAmount><wn1:invoiceNo i:type="d:string"></wn1:invoiceNo><wn1:lastModified i:type="d:dateTime">2020-10-25T07:00:03+01:00</wn1:lastModified><wn1:orderDate i:type="d:date">2020-09-30</wn1:orderDate><wn1:orderLines i:type="wn1:ArrayOfOrderLine1"><wn1:OrderLine1 i:type="wn1:OrderLine1"><wn1:eshopOrderLine i:nil="true"/><wn1:eshopOrderNo i:nil="true"/><wn1:itemDescription i:type="d:string">Octocat</wn1:itemDescription><wn1:itemNo i:type="d:string">1234</wn1:itemNo><wn1:lineAdditionalInformation i:nil="true"/><wn1:lineShippingAgent i:type="d:string">POST_CH</wn1:lineShippingAgent><wn1:lineTrackAndTraceId i:type="d:string"></wn1:lineTrackAndTraceId><wn1:lineTrackAndTraceUrl i:type="d:string"></wn1:lineTrackAndTraceUrl><wn1:orderLineState i:type="d:string">4</wn1:orderLineState><wn1:orderNo i:nil="true"/><wn1:postingDate i:nil="true"/><wn1:qtyInvoiced i:type="d:decimal">0.00</wn1:qtyInvoiced><wn1:qtyOrdered i:type="d:decimal">1.00</wn1:qtyOrdered><wn1:qtyReturned i:type="d:decimal">0.00</wn1:qtyReturned><wn1:qtyShipped i:type="d:decimal">0.00</wn1:qtyShipped><wn1:returnQuality i:type="d:string"></wn1:returnQuality><wn1:returnReason i:type="d:string"></wn1:returnReason></wn1:OrderLine1><wn1:OrderLine1 i:type="wn1:OrderLine1"><wn1:eshopOrderLine i:nil="true"/><wn1:eshopOrderNo i:nil="true"/><wn1:itemDescription i:type="d:string">Octocat</wn1:itemDescription><wn1:itemNo i:type="d:string">1234</wn1:itemNo><wn1:lineAdditionalInformation i:nil="true"/><wn1:lineShippingAgent i:type="d:string">POST_CH</wn1:lineShippingAgent><wn1:lineTrackAndTraceId i:type="d:string"></wn1:lineTrackAndTraceId><wn1:lineTrackAndTraceUrl i:type="d:string"></wn1:lineTrackAndTraceUrl><wn1:orderLineState i:type="d:string">4</wn1:orderLineState><wn1:orderNo i:nil="true"/><wn1:postingDate i:nil="true"/><wn1:qtyInvoiced i:type="d:decimal">0.00</wn1:qtyInvoiced><wn1:qtyOrdered i:type="d:decimal">1.00</wn1:qtyOrdered><wn1:qtyReturned i:type="d:decimal">0.00</wn1:qtyReturned><wn1:qtyShipped i:type="d:decimal">0.00</wn1:qtyShipped><wn1:returnQuality i:type="d:string"></wn1:returnQuality><wn1:returnReason i:type="d:string"></wn1:returnReason></wn1:OrderLine1></wn1:orderLines><wn1:orderNo i:type="d:string">TT-00123</wn1:orderNo><wn1:orderState i:type="d:integer">4</wn1:orderState><wn1:paymentState i:type="d:boolean">0</wn1:paymentState><wn1:postingDate i:type="d:dateTime">0001-01-01T01:00:00+01:00</wn1:postingDate><wn1:shippingAgent i:type="d:string">POST_CH</wn1:shippingAgent><wn1:trackAndTraceId i:type="d:string"></wn1:trackAndTraceId><wn1:trackAndTraceUrl i:type="d:string"></wn1:trackAndTraceUrl></wn1:Order><wn1:Order i:type="wn1:Order"><wn1:additionalInformation i:nil="true"/><wn1:clientId i:type="d:string">RR</wn1:clientId><wn1:creditAmount i:nil="true"/><wn1:currencyCode i:type="d:string">CHF</wn1:currencyCode><wn1:customer i:type="wn1:Customer"><wn1:customerNo i:type="d:string">00000014</wn1:customerNo><wn1:eshopCustomerNo i:type="d:string">123A45EF6</wn1:eshopCustomerNo><wn1:sellTo i:nil="true"/><wn1:shipTo i:type="wn1:Address"><wn1:address i:type="d:string">Bahnhofstr. 12</wn1:address><wn1:address2 i:type="d:string"></wn1:address2><wn1:city i:type="d:string">Winterthur</wn1:city><wn1:country i:type="d:string">CH</wn1:country><wn1:name i:type="d:string">Chuck Norris</wn1:name><wn1:name2 i:nil="true"/><wn1:postCode i:type="d:string">8400</wn1:postCode><wn1:salutation i:nil="true"/></wn1:shipTo></wn1:customer><wn1:eshopOrderNo i:type="d:string">TT-00124</wn1:eshopOrderNo><wn1:invoiceAmount i:type="d:decimal">0.00</wn1:invoiceAmount><wn1:invoiceNo i:type="d:string"></wn1:invoiceNo><wn1:lastModified i:type="d:dateTime">2020-10-25T07:00:03+01:00</wn1:lastModified><wn1:orderDate i:type="d:date">2020-09-30</wn1:orderDate><wn1:orderLines i:type="wn1:ArrayOfOrderLine1"><wn1:OrderLine1 i:type="wn1:OrderLine1"><wn1:eshopOrderLine i:nil="true"/><wn1:eshopOrderNo i:nil="true"/><wn1:itemDescription i:type="d:string">Octocat</wn1:itemDescription><wn1:itemNo i:type="d:string">1234</wn1:itemNo><wn1:lineAdditionalInformation i:nil="true"/><wn1:lineShippingAgent i:type="d:string">POST_CH</wn1:lineShippingAgent><wn1:lineTrackAndTraceId i:type="d:string"></wn1:lineTrackAndTraceId><wn1:lineTrackAndTraceUrl i:type="d:string"></wn1:lineTrackAndTraceUrl><wn1:orderLineState i:type="d:string">4</wn1:orderLineState><wn1:orderNo i:nil="true"/><wn1:postingDate i:nil="true"/><wn1:qtyInvoiced i:type="d:decimal">0.00</wn1:qtyInvoiced><wn1:qtyOrdered i:type="d:decimal">1.00</wn1:qtyOrdered><wn1:qtyReturned i:type="d:decimal">0.00</wn1:qtyReturned><wn1:qtyShipped i:type="d:decimal">0.00</wn1:qtyShipped><wn1:returnQuality i:type="d:string"></wn1:returnQuality><wn1:returnReason i:type="d:string"></wn1:returnReason></wn1:OrderLine1><wn1:OrderLine1 i:type="wn1:OrderLine1"><wn1:eshopOrderLine i:nil="true"/><wn1:eshopOrderNo i:nil="true"/><wn1:itemDescription i:type="d:string">Octocat</wn1:itemDescription><wn1:itemNo i:type="d:string">1234</wn1:itemNo><wn1:lineAdditionalInformation i:nil="true"/><wn1:lineShippingAgent i:type="d:string">POST_CH</wn1:lineShippingAgent><wn1:lineTrackAndTraceId i:type="d:string"></wn1:lineTrackAndTraceId><wn1:lineTrackAndTraceUrl i:type="d:string"></wn1:lineTrackAndTraceUrl><wn1:orderLineState i:type="d:string">4</wn1:orderLineState><wn1:orderNo i:nil="true"/><wn1:postingDate i:nil="true"/><wn1:qtyInvoiced i:type="d:decimal">0.00</wn1:qtyInvoiced><wn1:qtyOrdered i:type="d:decimal">1.00</wn1:qtyOrdered><wn1:qtyReturned i:type="d:decimal">0.00</wn1:qtyReturned><wn1:qtyShipped i:type="d:decimal">0.00</wn1:qtyShipped><wn1:returnQuality i:type="d:string"></wn1:returnQuality><wn1:returnReason i:type="d:string"></wn1:returnReason></wn1:OrderLine1></wn1:orderLines><wn1:orderNo i:type="d:string">TT-00124</wn1:orderNo><wn1:orderState i:type="d:integer">4</wn1:orderState><wn1:paymentState i:type="d:boolean">0</wn1:paymentState><wn1:postingDate i:type="d:dateTime">0001-01-01T01:00:00+01:00</wn1:postingDate><wn1:shippingAgent i:type="d:string">POST_CH</wn1:shippingAgent><wn1:trackAndTraceId i:type="d:string"></wn1:trackAndTraceId><wn1:trackAndTraceUrl i:type="d:string"></wn1:trackAndTraceUrl></wn1:Order></wn1:ArrayOfOrder></wn1:response></wn1:response></wn1:orderStateResponse></e:Body></e:Envelope>"""
    result = parse_order_state(response)
    print(result)
